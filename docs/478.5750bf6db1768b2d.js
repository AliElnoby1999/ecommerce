"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[478],{9478:(H,w,l)=>{l.r(w),l.d(w,{SettingModule:()=>$});var u=l(6814),n=l(95),e=l(4769),f=l(9483),_=l(2425),c=l(7163);function h(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"email is Required"),e.qZA())}function Z(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"email Invaled"),e.qZA())}function v(t,a){if(1&t&&(e.TgZ(0,"div",8),e.YNc(1,h,2,0,"p",9),e.YNc(2,Z,2,0,"p",9),e.qZA()),2&t){const s=e.oxw();let o,r;e.xp6(1),e.Q6J("ngIf",null==(o=s.forgetform.get("email"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=s.forgetform.get("email"))?null:r.getError("email"))}}let T=(()=>{class t{constructor(s,o,r,p){this._FormBuilder=s,this._AuthService=o,this._ToastrService=r,this._Router=p,this.forgetform=this._FormBuilder.group({email:["",[n.kI.required,n.kI.email]]})}handelform(){console.log(this.forgetform.value),this._AuthService.forgetpassword(this.forgetform.value).subscribe({next:s=>{this._ToastrService.success(`${s.message}`,`${s.statusMsg}`),this._Router.navigate(["/verify1"])},error:s=>{console.log(s),this._ToastrService.warning(`${s.error.message}`,`${s.error.statusMsg}`)}})}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(n.qu),e.Y36(f.e),e.Y36(_._W),e.Y36(c.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-forgetepassword"]],decls:10,vars:2,consts:[[1,"bg-main-light","p-4","rounded","my-3","w-75","mx-auto"],[3,"formGroup","ngSubmit"],[1,"p-3"],[1,"h3","text-main"],["type","email","id","email","placeholder","Email","formControlName","email",1,"form-control"],["inputEmail",""],["class","alert alert-danger",4,"ngIf"],[1,"btn-main","mt-3"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(o,r){if(1&o&&(e.TgZ(0,"section",0)(1,"form",1),e.NdJ("ngSubmit",function(){return r.handelform()}),e.TgZ(2,"div",2)(3,"h2",3),e._uU(4,"please enter your email"),e.qZA(),e._UZ(5,"input",4,5),e.YNc(7,v,3,2,"div",6),e.TgZ(8,"button",7),e._uU(9,"Send Verification Code"),e.qZA()()()()),2&o){const p=e.MAs(6);let d;e.xp6(1),e.Q6J("formGroup",r.forgetform),e.xp6(6),e.Q6J("ngIf",(null==(d=r.forgetform.get("email"))?null:d.errors)&&((null==(d=r.forgetform.get("email"))?null:d.touched)||p.value.length>0))}},dependencies:[u.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]})}return t})();function C(t,a){1&t&&(e.TgZ(0,"p",22),e._uU(1," Curent Password Is Required "),e.qZA())}function U(t,a){1&t&&(e.TgZ(0,"p",22),e._uU(1," Must be at least 6 chars "),e.qZA())}function P(t,a){if(1&t&&(e.ynx(0),e.YNc(1,C,2,0,"p",21),e.YNc(2,U,2,0,"p",21),e.BQk()),2&t){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.f.currentPassword.getError("required")),e.xp6(1),e.Q6J("ngIf",s.f.currentPassword.getError("pattern"))}}function A(t,a){1&t&&(e.TgZ(0,"p",22),e._uU(1," Password Is Required "),e.qZA())}function q(t,a){1&t&&(e.TgZ(0,"p",22),e._uU(1," Must be at least 6 chars "),e.qZA())}function S(t,a){if(1&t&&(e.ynx(0),e.YNc(1,A,2,0,"p",21),e.YNc(2,q,2,0,"p",21),e.BQk()),2&t){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.f.password.getError("required")),e.xp6(1),e.Q6J("ngIf",s.f.password.getError("pattern"))}}function x(t,a){1&t&&(e.TgZ(0,"p",22),e._uU(1," RePassword Is Required "),e.qZA())}function y(t,a){1&t&&(e.TgZ(0,"p",22),e._uU(1," RePassword confirmation is incorrect "),e.qZA())}function J(t,a){if(1&t&&(e.ynx(0),e.YNc(1,x,2,0,"p",21),e.YNc(2,y,2,0,"p",21),e.BQk()),2&t){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.f.rePassword.getError("required")),e.xp6(1),e.Q6J("ngIf",s.f.rePassword.getError("mismatch"))}}function b(t,a){if(1&t&&(e.TgZ(0,"button",23)(1,"span"),e._uU(2,"Change"),e.qZA()()),2&t){const s=e.oxw();e.Q6J("disabled",s.updateForm.invalid)}}function I(t,a){1&t&&(e.TgZ(0,"button",24)(1,"span"),e._UZ(2,"i",25),e.qZA()())}function Y(t,a){if(1&t&&(e.TgZ(0,"p",26),e._uU(1),e.qZA()),2&t){const s=e.oxw();e.xp6(1),e.hij(" ",s.errMsg," ")}}const m=function(t){return{"d-none":t}};function Q(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"resetCode is Required"),e.qZA())}function F(t,a){if(1&t&&(e.TgZ(0,"div",8),e.YNc(1,Q,2,0,"p",9),e.qZA()),2&t){const s=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=s.resetCodeform.get("resetCode"))?null:o.getError("required"))}}function k(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1," email is Required "),e.qZA())}function M(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1," email Invaled "),e.qZA())}function E(t,a){if(1&t&&(e.TgZ(0,"div",10),e.YNc(1,k,2,0,"p",11),e.YNc(2,M,2,0,"p",11),e.qZA()),2&t){const s=e.oxw();let o,r;e.xp6(1),e.Q6J("ngIf",null==(o=s.resetpasswordform.get("email"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=s.resetpasswordform.get("email"))?null:r.getError("email"))}}function G(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1," newPassword is Required "),e.qZA())}function V(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1," password must start with uppercase then from 6 to 20 "),e.qZA())}function B(t,a){if(1&t&&(e.TgZ(0,"div",10),e.YNc(1,G,2,0,"p",11),e.YNc(2,V,2,0,"p",11),e.qZA()),2&t){const s=e.oxw();let o,r;e.xp6(1),e.Q6J("ngIf",null==(o=s.resetpasswordform.get("newPassword"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=s.resetpasswordform.get("newPassword"))?null:r.getError("pattern"))}}const K=[{path:"update",component:(()=>{class t{constructor(s,o,r){this._AuthService=s,this._fb=o,this._Router=r,this.passwordShow=!1,this.curentPasswordShow=!1,this.rePasswordShow=!1,this.errMsg="",this.isLoading=!1}ngOnInit(){this.updateForm=this._fb.group({currentPassword:["",[n.kI.required,n.kI.pattern(/^\w{6,}$/)]],password:["",[n.kI.required,n.kI.pattern(/^\w{6,}$/)]],rePassword:[""]},{validator:[this.checkPassword]})}checkPassword(s){const o=s.get("password"),r=s.get("rePassword");""===r?.value?r?.setErrors({required:!0}):r?.value!==o?.value&&r?.setErrors({mismatch:!0})}get f(){return this.updateForm.controls}handleUpdate(){this.isLoading=!0,this.updateForm.valid&&this._AuthService.setChangePassword(this.updateForm.value).subscribe({next:s=>{"success"===s.message&&(this.isLoading=!1,console.log(s),localStorage.setItem("_token",s.token),this.updateForm.reset(),this.errMsg=s.message)},error:s=>{this.isLoading=!1,this.errMsg=s.error.message}})}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(f.e),e.Y36(n.qu),e.Y36(c.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-updatepassword"]],decls:40,vars:25,consts:[[1,"bg-main-light","w-75","mx-auto","rounded","shadow","p-3"],[1,"h4","text-center"],[1,"vstack","gap-3","w-75","mx-auto",3,"formGroup","ngSubmit"],[1,"form-item"],["for","currentPassword"],[1,"position-relative"],["formControlName","currentPassword","id","currentPassword","type","password","placeholder","Your Current Password....",1,"form-control"],["cupass",""],["role","button",1,"position-absolute","top-50","end-0","translate-middle-y","me-2",3,"ngClass","click"],[1,"fas","fa-eye"],[1,"fas","fa-eye-slash"],[4,"ngIf"],["for","password"],["formControlName","password","id","password","type","password","placeholder","Your Password....",1,"form-control"],["pass",""],["for","rePassword"],["formControlName","rePassword","id","rePassword","type","Password","placeholder","Confirm Password....",1,"form-control"],["repass",""],["type","submit","class","btn-main ms-auto d-block",3,"disabled",4,"ngIf"],["type","button","disabled","","class","main-btn ms-auto",4,"ngIf"],["class","alert alert-danger text-center w-50 mx-auto mb-0 p-1 mt-3",4,"ngIf"],["class","alert alert-danger w-50 mx-auto p-1 mb-0",4,"ngIf"],[1,"alert","alert-danger","w-50","mx-auto","p-1","mb-0"],["type","submit",1,"btn-main","ms-auto","d-block",3,"disabled"],["type","button","disabled","",1,"main-btn","ms-auto"],[1,"fas","fa-spinner","fa-spin"],[1,"alert","alert-danger","text-center","w-50","mx-auto","mb-0","p-1","mt-3"]],template:function(o,r){if(1&o){const p=e.EpF();e.TgZ(0,"section",0)(1,"h1",1),e._uU(2,"Update User Password"),e.qZA(),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return r.handleUpdate()}),e.TgZ(4,"div",3)(5,"label",4),e._uU(6,"Current Password:"),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"input",6,7),e.TgZ(10,"span",8),e.NdJ("click",function(){e.CHM(p);const i=e.MAs(9);return r.curentPasswordShow=!0,e.KtG(i.type=1==r.curentPasswordShow?"text":"password")}),e._UZ(11,"i",9),e.qZA(),e.TgZ(12,"span",8),e.NdJ("click",function(){e.CHM(p);const i=e.MAs(9);return r.curentPasswordShow=!1,e.KtG(i.type=0==r.curentPasswordShow?"password":"text")}),e._UZ(13,"i",10),e.qZA()(),e.YNc(14,P,3,2,"ng-container",11),e.qZA(),e.TgZ(15,"div",3)(16,"label",12),e._uU(17,"Password:"),e.qZA(),e.TgZ(18,"div",5),e._UZ(19,"input",13,14),e.TgZ(21,"span",8),e.NdJ("click",function(){e.CHM(p);const i=e.MAs(20);return r.passwordShow=!0,e.KtG(i.type=1==r.passwordShow?"text":"password")}),e._UZ(22,"i",9),e.qZA(),e.TgZ(23,"span",8),e.NdJ("click",function(){e.CHM(p);const i=e.MAs(20);return r.passwordShow=!1,e.KtG(i.type=0==r.passwordShow?"password":"text")}),e._UZ(24,"i",10),e.qZA()(),e.YNc(25,S,3,2,"ng-container",11),e.qZA(),e.TgZ(26,"div",3)(27,"label",15),e._uU(28,"RePassword:"),e.qZA(),e.TgZ(29,"div",5),e._UZ(30,"input",16,17),e.TgZ(32,"span",8),e.NdJ("click",function(){e.CHM(p);const i=e.MAs(31);return r.rePasswordShow=!0,e.KtG(i.type=1==r.rePasswordShow?"text":"password")}),e._UZ(33,"i",9),e.qZA(),e.TgZ(34,"span",8),e.NdJ("click",function(){e.CHM(p);const i=e.MAs(31);return r.rePasswordShow=!1,e.KtG(i.type=0==r.rePasswordShow?"password":"text")}),e._UZ(35,"i",10),e.qZA()(),e.YNc(36,J,3,2,"ng-container",11),e.qZA(),e.YNc(37,b,3,1,"button",18),e.YNc(38,I,3,0,"button",19),e.YNc(39,Y,2,1,"p",20),e.qZA()()}2&o&&(e.xp6(3),e.Q6J("formGroup",r.updateForm),e.xp6(7),e.Q6J("ngClass",e.VKq(13,m,r.curentPasswordShow)),e.xp6(2),e.Q6J("ngClass",e.VKq(15,m,!r.curentPasswordShow)),e.xp6(2),e.Q6J("ngIf",r.f.currentPassword.errors&&((null==r.f.currentPassword.value?null:r.f.currentPassword.value.length)||r.f.currentPassword.touched)),e.xp6(7),e.Q6J("ngClass",e.VKq(17,m,r.passwordShow)),e.xp6(2),e.Q6J("ngClass",e.VKq(19,m,!r.passwordShow)),e.xp6(2),e.Q6J("ngIf",r.f.password.errors&&((null==r.f.password.value?null:r.f.password.value.length)||r.f.password.touched)),e.xp6(7),e.Q6J("ngClass",e.VKq(21,m,r.rePasswordShow)),e.xp6(2),e.Q6J("ngClass",e.VKq(23,m,!r.rePasswordShow)),e.xp6(2),e.Q6J("ngIf",r.f.rePassword.errors&&((null==r.f.rePassword.value?null:r.f.rePassword.value.length)||r.f.rePassword.touched)),e.xp6(1),e.Q6J("ngIf",!r.isLoading),e.xp6(1),e.Q6J("ngIf",r.isLoading),e.xp6(1),e.Q6J("ngIf",r.errMsg))},dependencies:[u.mk,u.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]})}return t})()},{path:"forget",component:T},{path:"verify",component:(()=>{class t{constructor(s,o,r,p){this._FormBuilder=s,this._AuthService=o,this._ToastrService=r,this._Router=p,this.resetCodeform=this._FormBuilder.group({resetCode:["",[n.kI.required]]})}handelform(){this._AuthService.verifyRestCode(this.resetCodeform.value).subscribe({next:s=>{"success"==s.message?(this._ToastrService.success("Reset code is valid","Success"),this._Router.navigate(["setting/resetpassword"])):this._ToastrService.error("Reset code is not valid","Error")},error:s=>{this._ToastrService.error("An error occurred","Error")}})}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(n.qu),e.Y36(f.e),e.Y36(_._W),e.Y36(c.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-verifycode"]],decls:10,vars:2,consts:[[1,"bg-main-light","mx-auto","my-3","w-75"],[3,"formGroup","ngSubmit"],[1,"p-3"],[1,"h3","text-main"],["type","text","id","resetCode","placeholder","resetCode","formControlName","resetCode",1,"form-control"],["inputresetCode",""],["class","alert alert-danger",4,"ngIf"],[1,"btn-main","mt-3"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(o,r){if(1&o&&(e.TgZ(0,"section",0)(1,"form",1),e.NdJ("ngSubmit",function(){return r.handelform()}),e.TgZ(2,"div",2)(3,"h2",3),e._uU(4,"reset your Account Password"),e.qZA(),e._UZ(5,"input",4,5),e.YNc(7,F,2,1,"div",6),e.TgZ(8,"button",7),e._uU(9,"Verify"),e.qZA()()()()),2&o){const p=e.MAs(6);let d;e.xp6(1),e.Q6J("formGroup",r.resetCodeform),e.xp6(6),e.Q6J("ngIf",(null==(d=r.resetCodeform.get("resetCode"))?null:d.errors)&&((null==(d=r.resetCodeform.get("resetCode"))?null:d.touched)||p.value.length>0))}},dependencies:[u.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]})}return t})()},{path:"resetpassword",component:(()=>{class t{constructor(s,o,r,p){this._FormBuilder=s,this._AuthService=o,this._ToastrService=r,this._Router=p,this.resetpasswordform=this._FormBuilder.group({email:["",[n.kI.required,n.kI.email]],newPassword:["",[n.kI.required,n.kI.pattern(/^[A-Z][a-z0-9]{6,20}$/)]]})}handelform(){this._AuthService.resetPassword(this.resetpasswordform.value).subscribe({next:s=>{this._ToastrService.success("Password Reset Successfully"),localStorage.removeItem("token"),localStorage.setItem("token",s.token),this._AuthService.decodeUserData(),this._Router.navigate(["/home"])},error:s=>{this._ToastrService.error("Failed to Reset Password")}})}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(n.qu),e.Y36(f.e),e.Y36(_._W),e.Y36(c.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-resetpassword"]],decls:13,vars:3,consts:[[1,"bg-main-light","mx-auto","my-3","w-75"],[3,"formGroup","ngSubmit"],[1,"p-3"],[1,"h3","text-main"],["type","email","id","email","placeholder","Email","formControlName","email",1,"form-control"],["inputEmail",""],["class","alert alert-danger",4,"ngIf"],["type","password","id","newPassword","placeholder","newPassword","formControlName","newPassword",1,"form-control"],["inputnewPassword",""],[1,"btn-main","mt-3"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(o,r){if(1&o&&(e.TgZ(0,"section",0)(1,"form",1),e.NdJ("ngSubmit",function(){return r.handelform()}),e.TgZ(2,"div",2)(3,"h2",3),e._uU(4,"reset your account password"),e.qZA(),e._UZ(5,"input",4,5),e.YNc(7,E,3,2,"div",6),e._UZ(8,"input",7,8),e.YNc(10,B,3,2,"div",6),e.TgZ(11,"button",9),e._uU(12,"Verify"),e.qZA()()()()),2&o){const p=e.MAs(6),d=e.MAs(9);let i,g;e.xp6(1),e.Q6J("formGroup",r.resetpasswordform),e.xp6(6),e.Q6J("ngIf",(null==(i=r.resetpasswordform.get("email"))?null:i.errors)&&((null==(i=r.resetpasswordform.get("email"))?null:i.touched)||p.value.length>0)),e.xp6(3),e.Q6J("ngIf",(null==(g=r.resetpasswordform.get("newPassword"))?null:g.errors)&&((null==(g=r.resetpasswordform.get("newPassword"))?null:g.touched)||d.value.length>0))}},dependencies:[u.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]})}return t})()}];let L=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#r=this.\u0275inj=e.cJS({imports:[c.Bz.forChild(K),c.Bz]})}return t})();var j=l(9862);let $=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#r=this.\u0275inj=e.cJS({imports:[u.ez,L,n.u5,n.UX,_.Rh.forRoot(),j.JF]})}return t})()}}]);